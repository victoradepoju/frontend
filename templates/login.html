<!--
Copyright 2020 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
  <head>
    {% include 'shared/html_head.html' %}
  </head>
  <body>
    {% include 'shared/platform_banner.html' %}
    
    <div class="auth-container">
      <!-- Form Section -->
      <div class="auth-form-section">
        <div class="text-center mb-5">
          <h2 class="header-title">Welcome Back</h2>
          <p class="text-muted">Sign in to access your account</p>
        </div>
        
        <div class="card">
          <div class="card-body sign-in">
            <div class="row align-items-center mt-2">
              <div class="col-12 mb-4">
                <div id="alertBanner" class="alert alert-danger mb-4 hidden" role="alert">
                  <span class="error-icon mr-2 material-icons">error</span>Login failed.
                </div>
                {% if response_type == "code" %}
                <form id="login-form" class="needs-validation" novalidate="" method="POST" action="/login?response_type={{ response_type }}&state={{ state }}&redirect_uri={{ redirect_uri }}&app_name={{ app_name }}">
                {% else %}
                <form id="login-form" class="needs-validation" novalidate="" method="POST" action="/login">
                {% endif %}
                  <div class="mb-4">
                    <label class="text-uppercase text-muted secondary-text" for="username">Username</label>
                    <div class="input-group mt-2">
                      <div class="input-group-prepend mr-2">
                        <span class="input-group-text"><span class="material-icons">account_circle</span></span>
                      </div>
                      <input class="form-control" type="text" id="login-username" name="username" autocomplete="off" pattern="([a-zA-Z0-9_]){2,15}" value="{{ default_user }}" required>
                      <div class="invalid-feedback">
                        Please enter your username.
                      </div>
                    </div>
                  </div>
                  
                  <div class="mb-4">
                    <label class="text-uppercase text-muted secondary-text" for="password">Password</label>
                    <div class="input-group mt-2">
                      <div class="input-group-prepend mr-2">
                        <span class="input-group-text"><span class="material-icons">lock</span></span>
                      </div>
                      <input class="form-control" type="password" id="login-password" name="password" value="{{ default_password }}" required>
                      <div class="invalid-feedback">
                        Please enter your password.
                      </div>
                    </div>
                  </div>
                  
                  <button class="btn btn-sign-in btn-block mb-4" type="submit">Sign in</button>
                  
                  <div class="text-center">
                    <small class="text-uppercase secondary-text text-muted">
                      Don't have an account?
                    </small>
                    <a href="/signup" class="btn btn-secondary btn-block mt-2" id="create-account-btn" type="button">Create Account</a>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Hero Section -->
      <div class="auth-hero-section">
        <img src="static/images/cymbal-logo.png" alt="Cymbal Logo" class="auth-logo">
        
        <div class="testimonial">
          <p class="testimonial-text">"Cymbal Bank has transformed how I manage my finances. The seamless experience makes banking a pleasure."</p>
          <p class="testimonial-author">- Sarah Johnson, Business Owner</p>
        </div>
      </div>
    </div>
    
    {% include 'shared/footer.html' %}
    {% include 'shared/scripts.html' %}
    <script src="static/scripts/login.js"></script>
  </body>
</html>